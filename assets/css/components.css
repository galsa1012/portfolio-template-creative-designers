/* --------------------------------------------------------------------------
   6. Button
   -------------------------------------------------------------------------- */
.btn {
  display: inline-block;
  padding: var(--space-sm) var(--space-lg);
  background: var(--color-boton);
  color: rgb(24, 24, 24);
  font-weight: var(--fw-medium);
  border-radius: 8px;
  transition: background 0.3s, transform 0.3s;
}

.btn:hover,
.btn:focus {
  background: var(--color-accent-hover);
  color: var(--color-accent);
  transform: translateY(-2px);
}

/* --------------------------------------------------------------------------
   7. About Section
   -------------------------------------------------------------------------- */
.about {
  background: var(--color-bg);
}

.about-grid {
  display: grid;
  gap: var(--space-xl);
  margin-top: 200px;
}

@media (min-width: 768px) {
  .about-grid {
    grid-template-columns: 1fr 1fr;
    align-items: start;
  }
}

.about-text p {
  /* 1. ESPACIADO Y COLOR */
  margin-bottom: var(--space-md);
  color: var(--color-text-muted);
  line-height: 1.7; /* Un poco m√°s de aire ayuda al justificado */

  /* 2. AJUSTE A CAJA (JUSTIFICADO) */
  text-align: justify;
  text-justify: inter-word; /* Distribuye el espacio entre palabras, no letras */

  /* 3. PROHIBIR QUE SE PARTAN LAS PALABRAS */
  hyphens: none !important;
  -webkit-hyphens: none;
  -ms-hyphens: none;
  word-break: normal;
  overflow-wrap: anywhere; /* Permite que la palabra baje entera si no cabe */

  /* 4. CONTROL DE LA CAJA */
  max-width: 65ch;
  margin-left: auto;
  margin-right: auto;
}

.skills-grid {
  display: grid;
  /* Esto crea 5 columnas en pantallas grandes */
  grid-template-columns: repeat(5, 1fr);
  gap: 20px;
}

/* En m√≥viles o tablets, haremos que se adapten */
@media (max-width: 1024px) {
  .skills-grid {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  }
}

.skill-card {
  background: var(--color-bg);
  padding: var(--space-md);
  border-radius: 12px;
  text-align: center;
}

.skill-icon {
  font-size: var(--text-2xl);
  display: block;
  margin-bottom: var(--space-sm);
}

.skill-card h3 {
  font-size: clamp(0.7rem, 2vw, 0.9rem);
  white-space: nowrap; /* Fuerza una sola l√≠nea */
  overflow: hidden; /* Oculta si algo sobra (seguridad) */
  text-overflow: ellipsis; /* Pone "..." si el nombre fuera largu√≠simo */

  margin-bottom: auto;
  padding-bottom: var(--space-sm);
}

/* El carril gris de la barra */
/* 1. AJUSTE DE ICONOS (Sin tocar el contenedor .skill-icon-container) */
.skill-icon {
  width: 100%;
  height: 100%;
  object-fit: contain; /* Evita que los logos se deformen */
  display: block;
  margin: 0 auto;
  filter: grayscale(100%) brightness(0.8); /* Efecto opcional */
  transition: all 0.4s ease;
}

.skill-card:hover .skill-icon {
  filter: grayscale(0%) brightness(1);
  transform: scale(1.1);
}

/* 2. ESTRUCTURA DE LA BARRA (Asegura que sea visible) */
.skill-bar {
  width: 100%;
  height: 8px; /* Altura m√≠nima para que no sea invisible */
  background: rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  overflow: hidden;
  margin-top: 15px;
}

/* 3. L√ìGICA DE ANIMACI√ìN */
.skill-fill {
  height: 100%;
  background: #ac0707;
  border-radius: 10px;

  /* Estado inicial */
  width: 0%;
  transition: width 1.5s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Solo se llena cuando el padre tiene la clase .revealed */
[data-reveal-stagger].revealed .skill-fill {
  width: var(--fill);
}

/* --------------------------------------------------------------------------
   8. Projects Section
   -------------------------------------------------------------------------- */
/* ==========================================================================
   SECCI√ìN DE PROYECTOS COMPLETA
   ========================================================================== */

/* 1. CONTENEDOR GRID (Mantiene las 3 tarjetas en horizontal) */
.projects-grid {
  display: grid !important;
  gap: 30px; /* Espacio entre tarjetas */
  grid-template-columns: repeat(1, 1fr); /* M√≥vil */
  width: 100%;
}

@media (min-width: 768px) {
  .projects-grid {
    grid-template-columns: repeat(2, 1fr) !important; /* Tablet */
  }
}

@media (min-width: 1024px) {
  .projects-grid {
    grid-template-columns: repeat(
      3,
      1fr
    ) !important; /* Escritorio: 3 en l√≠nea */
  }
}

/* 2. LA TARJETA (Dise√±o base) */
.project-card {
  position: relative !important;
  width: 100%;
  aspect-ratio: 4/3;
  background: #000;
  border-radius: 8px;
  overflow: hidden !important;
  transition: transform 0.3s ease;
  cursor: pointer;
}

.project-card:hover {
  transform: translateY(-8px);
}

/* 3. LA IMAGEN Y EL BLUR (Desenfoque sutil) */
.project-image {
  position: absolute;
  inset: 0;
  z-index: 1;
}

.project-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: filter 0.5s ease, transform 0.5s ease;
}

/* Efecto al hacer hover: desenfoque suave */
.project-card:hover .project-image img {
  filter: blur(2px);
  transform: scale(1.05);
}

/* 4. EL CONTENIDO (Mitad inferior, t√≠tulo izquierda y scroll) */
.project-content {
  position: absolute;
  /* Posicionado solo en la mitad inferior */
  top: 50%;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 2;

  /* Degradado para legibilidad */
  background: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.9) 20%,
    transparent
  ) !important;

  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* Empieza arriba de la mitad inferior */
  align-items: flex-start; /* Todo alineado a la izquierda */
  padding: 20px 25px;

  /* Oculto por defecto */
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.4s ease, transform 0.4s ease;
  transform: translateY(10px);
}

.project-card:hover .project-content {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

/* 5. TEXTOS (Peque√±os y con SCROLL FORZADO) */
.project-content h3 {
  color: var(--color-accent);
  margin: 0 0 8px 0;
  font-size: 1.5rem;
  font-weight: 600;
  flex-shrink: 0; /* Que el t√≠tulo no se mueva */
}

.project-description {
  width: 100%;
  /* ALTURA FIJA PARA QUE EL SCROLL FUNCIONE S√ç O S√ç */
  height: 80px;
  overflow-y: auto !important; /* Activa el scroll vertical */

  margin-bottom: 10px;
  color: rgba(255, 255, 255, 0.9);
  font-size: 0.85rem;
  line-height: 1.4;
  padding-right: 10px;
}

/* Estilo de la barra de scroll (Color Accent) */
.project-description::-webkit-scrollbar {
  width: 4px;
}
.project-description::-webkit-scrollbar-thumb {
  background: var(--color-accent); /* Color de tu marca */
  border-radius: 10px;
}

/* 6. TAGS */
.project-tags {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
  flex-shrink: 0;
}

.project-tags span {
  font-size: 0.7rem;
  padding: 3px 8px;
  background: rgba(255, 255, 255, 0.1);
  color: var(--color-accent, #00ff88);
  border-radius: 4px;
}
/* --------------------------------------------------------------------------
   9. Contact Section
   -------------------------------------------------------------------------- */
.contact {
  background: var(--color-bg-alt);
  text-align: center;
}

.contact-content p {
  font-size: var(--text-lg);
  color: var(--color-text-muted);
  margin-bottom: var(--space-lg);
}

.social-links {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-top: 30px;
}

.social-links a {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-decoration: none;
}

.social-links svg {
  width: 30px;
  height: 30px;
  color: #555;
  transition: all 0.3s ease;
}

/* El nombre que aparece */
.tooltip {
  position: absolute;
  bottom: -25px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--color-accent);
  opacity: 0; /* Invisible */
  transition: all 0.3s ease;
  pointer-events: none;
}

/* Animaci√≥n combinada */
.social-links a:hover svg {
  color: var(--color-accent);
  transform: translateY(-5px);
}

.social-links a:hover .tooltip {
  opacity: 1;
  bottom: -18px; /* Sube un poco para quedar cerca del icono */
}

/* --------------------------------------------------------------------------
   10. Footer
   -------------------------------------------------------------------------- */
.footer {
  padding: var(--space-lg) 0;
  text-align: center;
  color: var(--color-text-muted);
  font-size: var(--text-sm);
}

.footer .container {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.back-to-top {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-bg-alt);
  border-radius: 50%;
  transition: background 0.3s, transform 0.3s;
}

.back-to-top:hover {
  background: var(--color-accent);
  transform: translateY(-3px);
}

/* --------------------------------------------------------------------------
   11. SCROLL REVEAL ANIMATIONS (IntersectionObserver-driven)

   üéì THE CSS + JAVASCRIPT PARTNERSHIP:
   The JavaScript IntersectionObserver (in main.js) adds classes when elements
   enter the viewport. CSS handles the actual animation via transitions.

   This separation of concerns is powerful:
   - JS: "When should the animation start?" (viewport detection)
   - CSS: "How should the animation look?" (visual effects)

   üìê THE PATTERN:
   1. Elements start with opacity: 0 and transform: translateY(30px)
   2. JavaScript adds .visible class when element enters viewport
   3. CSS transitions smoothly animate to opacity: 1 and translateY(0)

   ‚ö° PERFORMANCE NOTE:
   We ONLY animate `transform` and `opacity` because these properties:
   - Don't trigger layout recalculation (expensive!)
   - Don't trigger repaint (also expensive!)
   - Run on the GPU compositor thread (fast! 60fps!)

   NEVER animate: width, height, margin, padding, top, left, etc.
   These trigger layout and will cause jank (stuttering).
   -------------------------------------------------------------------------- */

/*
 * SINGLE ELEMENT REVEAL
 *
 * Use class="animate-on-scroll" on any element you want to fade in.
 * JavaScript will add .visible when it scrolls into view.
 */
.animate-on-scroll {
  opacity: 0; /* Start invisible */
  transform: translateY(30px); /* Start 30px below final position */

  /*
	 * TRANSITION SHORTHAND EXPANDED:
	 *
	 * transition: [property] [duration] [timing-function]
	 *
	 * We're transitioning TWO properties (opacity AND transform).
	 * Both use var(--duration-normal) = 0.6s
	 * Both use var(--ease-out) = our custom easing curve
	 */
  transition: opacity var(--duration-normal) var(--ease-out),
    transform var(--duration-normal) var(--ease-out);
}

.animate-on-scroll.visible {
  opacity: 1; /* Fade in */
  transform: translateY(0); /* Move to final position */
}

/* --------------------------------------------------------------------------
   STAGGERED REVEAL ANIMATION

   üéì WHAT IS STAGGERING?
   Staggering means animating children elements one after another instead of
   all at once. This creates a "cascade" or "wave" effect that draws the eye
   and feels more dynamic than everything appearing simultaneously.

   üìê HOW IT WORKS:
   1. Parent has [data-reveal-stagger] attribute
   2. All children start invisible (opacity: 0, translateY)
   3. When parent gets .revealed class, children animate with increasing delays
   4. transition-delay creates the stagger: 0.1s, 0.2s, 0.3s, etc.

   üí° DATA ATTRIBUTES:
   We use data-* attributes instead of classes because:
   - They're semantic: "this element reveals with stagger"
   - They can hold values: data-stagger-delay="0.2s" (future enhancement)
   - They're easily queryable: [data-reveal-stagger]
   -------------------------------------------------------------------------- */
[data-reveal-stagger] > * {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.5s var(--ease-out), transform 0.5s var(--ease-out);
}

/*
 * STAGGER DELAYS USING :nth-child
 *
 * Each child gets a progressively longer delay.
 * Child 1: 0.1s delay, Child 2: 0.2s delay, etc.
 *
 * This creates the "wave" effect as elements appear one by one.
 *
 * ‚ö†Ô∏è LIMITATION: This only works for up to 6 children. For dynamic
 * content with unknown child count, you'd need JavaScript to set delays.
 */
[data-reveal-stagger].revealed > *:nth-child(1) {
  transition-delay: 0.1s;
}
[data-reveal-stagger].revealed > *:nth-child(2) {
  transition-delay: 0.2s;
}
[data-reveal-stagger].revealed > *:nth-child(3) {
  transition-delay: 0.3s;
}
[data-reveal-stagger].revealed > *:nth-child(4) {
  transition-delay: 0.4s;
}
[data-reveal-stagger].revealed > *:nth-child(5) {
  transition-delay: 0.5s;
}
[data-reveal-stagger].revealed > *:nth-child(6) {
  transition-delay: 0.6s;
}
[data-reveal-stagger].revealed > *:nth-child(7) {
  transition-delay: 0.7s;
}

[data-reveal-stagger].revealed > *:nth-child(8) {
  transition-delay: 0.8s;
}
[data-reveal-stagger].revealed > *:nth-child(9) {
  transition-delay: 0.9s;
}

[data-reveal-stagger].revealed > * {
  opacity: 1;
  transform: translateY(0);
}

/* --------------------------------------------------------------------------
   12. ACCESSIBILITY: REDUCED MOTION

   üéì WHY THIS MATTERS:
   Some users experience motion sickness, vestibular disorders, or seizures
   triggered by animations. Others simply find motion distracting.

   The `prefers-reduced-motion` media query respects user preferences set in
   their operating system settings:
   - macOS: System Preferences ‚Üí Accessibility ‚Üí Display ‚Üí Reduce motion
   - Windows: Settings ‚Üí Ease of Access ‚Üí Display ‚Üí Show animations
   - iOS: Settings ‚Üí Accessibility ‚Üí Motion ‚Üí Reduce Motion

   ‚öñÔ∏è LEGAL REQUIREMENT:
   WCAG 2.1 Success Criterion 2.3.3 requires respecting user motion preferences.
   Ignoring this can expose you to accessibility lawsuits.

   üìê OUR APPROACH:
   When reduced motion is preferred, we:
   1. Disable ALL animations and transitions (near-instant 0.01ms)
   2. Make animated elements immediately visible (no waiting)
   3. Disable smooth scrolling (instant jumps instead)

   üí° WHY 0.01ms INSTEAD OF 0ms?
   Some browsers have bugs with 0ms duration. 0.01ms is effectively instant
   but avoids those edge cases.

   üîó LEARN MORE: https://web.dev/prefers-reduced-motion/
   -------------------------------------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
  /*
	 * NUCLEAR OPTION: Disable ALL animations/transitions globally
	 *
	 * The !important ensures this overrides any other animation styles.
	 * This is one of the few legitimate uses of !important.
	 */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important; /* Instant scroll, no smooth */
  }

  /*
	 * ENSURE ANIMATED CONTENT IS VISIBLE
	 *
	 * Without this, elements with opacity: 0 would stay invisible forever
	 * since the animation that reveals them is now disabled.
	 */
  .animate-on-scroll,
  [data-reveal-stagger] > * {
    opacity: 1; /* Fully visible */
    transform: none; /* No transform offset */
  }

  /*
	 * SKILL BARS: Show at full width immediately
	 */
  .skill-fill {
    width: var(--fill);
    transition: none;
  }
}

/* --------------------------------------------------------------------------
   13. Mobile Adjustments
   -------------------------------------------------------------------------- */
@media (max-width: 640px) {
  .nav-links {
    display: none; /* Would be hamburger menu in production */
  }

  .footer .container {
    flex-direction: column;
    gap: var(--space-md);
  }
}
/* Animaci√≥n cuando pasas el rat√≥n por la tarjeta */
.skill-card:hover .skill-icon {
  opacity: 1;
  transform: scale(1.1); /* Crece un poquito */
}
.skill-icon-container {
  width: 60px; /* Espacio total del icono */
  height: 60px;
  display: flex;
  align-items: center; /* Centra verticalmente */
  justify-content: center; /* Centra horizontalmente */
  margin-bottom: 15px;
  overflow: hidden;
}

.skill-icon {
  /* En lugar de 100%, usa un tama√±o m√°ximo */
  max-width: 45px;
  max-height: 45px;
  width: auto;
  height: auto;
  object-fit: contain;
}
.skill-card {
  display: flex;
  flex-direction: column;
  align-items: center; /* Centra todo el contenido de la tarjeta */
  text-align: center;
}
